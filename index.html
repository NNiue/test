<!DOCTYPE html>
<html>
<head>
<title>LoRA简易版</title>
<style>
body { max-width: 600px; margin: 20px auto; padding: 20px; }
.select-box { margin: 15px 0; display: grid; gap: 10px; }
button { background: #4CAF50; padding: 12px; width: 100%; }
</style>
</head>
<body>

<!-- 生成模块 -->
<div class="box">
  <h3>图片生成</h3>
  <select id="genModel">
    <option value="NNiuNUll/cyber-lora">基础模型</option>
    <option value="ArtLab/ink-style">水墨风格</option>
  </select>
  <input type="file" id="imageInput" accept="image/*">
  <button onclick="generate()">开始生成</button>
</div>

<!-- 下载模块 -->
<div class="box">
  <h3>模型下载</h3>
  <select id="downloadModel">
    <option value="1">赛博Lora v1.5</option>
    <option value="2">水墨Lora v2.0</option>
  </select>
  <button onclick="download()">立即下载</button>
</div>

<script>
// 核心功能实现
async function generate() {
  const model = document.getElementById('genModel').value;
  const file = document.getElementById('imageInput').files[0];

  const formData = new FormData();
  formData.append('file',  file);

  try {
    const response = await fetch(
      `https://api-inference.huggingface.co/models/${model}`,
      { method: 'POST', body: formData }
    );
    const data = await response.blob();
    // 显示结果（需根据实际API响应调整）
    const img = document.createElement('img');
    img.src  = URL.createObjectURL(data);
    document.body.append(img);
  } catch (error) {
    alert('生成失败，请检查模型状态');
  }
}

function download() {
  const modelId = document.getElementById('downloadModel').value;
  const urlMap = {
    '1': 'https://huggingface.co/NNiuNUll/my-lora/resolve/main/1.safetensors',
    '2': 'https://huggingface.co/NNiuNUll/ink-lora/resolve/main/2.safetensors'
  };
  window.open(urlMap[modelId],  '_blank');
}
</script>

</body>
</html>